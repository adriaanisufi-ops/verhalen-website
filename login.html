<!doctype html>
<html lang="nl">
<head>
  <title>üêº Verhalen</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inloggen</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
  *, *::before, *::after{ box-sizing: border-box; }
  body{margin:0;font-family:Inter,system-ui;background:#0b1020;color:#eef2ff}
  .wrap{max-width:520px;margin:40px auto;padding:16px}
  .card{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12);border-radius:18px;padding:16px}
  input,button{width:100%;padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.12);font:inherit}
    input{background:rgba(255,255,255,.06);color:#eef2ff}
    button{cursor:pointer;margin-top:10px;background:linear-gradient(135deg,rgba(139,92,246,.9),rgba(34,211,238,.75));color:#fff;border:1px solid rgba(139,92,246,.35)}
    .ghost{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.12)}
    .msg{margin-top:10px;white-space:pre-wrap;color:rgba(238,242,255,.75)}
    a{color:#c4b5fd;text-decoration:none}
  
}
  </style>
</head>
<body>
  <div class="wrap">
    <p><a href="index.html">‚Üê Terug</a></p>
    <div class="card">
      <h1 style="margin:0 0 6px">Inloggen / Account maken</h1>
      <p style="margin:0 0 14px;color:rgba(238,242,255,.75)">Gebruik e-mail + wachtwoord.</p>

      <input id="email" placeholder="Email" type="email" />
      <input id="password" placeholder="Wachtwoord" type="password" style="margin-top:10px" />

      <button id="signup">Account maken</button>
      <button id="signin" class="ghost">Inloggen</button>

      <div id="msg" class="msg"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="supabase.js"></script>
  <script>
    const msg = document.getElementById("msg");
    const emailEl = document.getElementById("email");
    const passEl = document.getElementById("password");

    document.getElementById("signup").onclick = async () => {
      msg.textContent = "Account maken...";
      const { error } = await window.supabaseClient.auth.signUp({
        email: emailEl.value.trim(),
        password: passEl.value.trim()
      });
      if (error) return msg.textContent = "‚ùå " + error.message;
      msg.textContent = "‚úÖ Gelukt! Check je mail om te bevestigen (als confirm aan staat).";
    };

    document.getElementById("signin").onclick = async () => {
      msg.textContent = "Inloggen...";
      const { error } = await window.supabaseClient.auth.signInWithPassword({
        email: emailEl.value.trim(),
        password: passEl.value.trim()
      });
      if (error) return msg.textContent = "‚ùå " + error.message;
      msg.textContent = "‚úÖ Ingelogd!";
     setTimeout(()=>location.href="index.html?ts=" + Date.now(), 200);
    };
  </script>
</body>
</html>
